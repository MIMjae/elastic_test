<!DOCTYPE html>
<html lang="en">
    <head>
        <link href="static/css/index.css" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>KOOKDAT</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@700&display=swap" rel="stylesheet">
    </head>

    <body>
        <!-- ìƒë‹¨ ë¡œê³  -->
        <section id="main_header-section">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="text-wrap">
                            <h1>KOOKDATì€</h1> 
                            <p><strong>ì„œìš¸ì‹œ ë‚´ ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ êµí†µì‚¬ê³  ë‹¤ë°œ ì§€ì—­</strong>ì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.<br>
                            í•´ë‹¹ ì‚¬ê³  ì¢…ë¥˜ë¥¼ í´ë¦­í•˜ë©´ ì‚¬ê³  ë‹¤ë°œì§€ì—­ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        </div>
                    </div>
    
                    <div class="col">
                        <ul class="menu-wrap">
                            <li><a href="/hazard">
                                êµí†µì‚¬ê³  ë‹¤ë°œì§€ì—­<span>ğŸ’¥ğŸš—</span></a></li>
                            <li><a href="/analysis">
                                êµí†µì‚¬ê³  ë¶„ì„<span>ğŸ”ğŸš—</span></a></li>
                        </ul>
                    </div>     
                </div> 
            </div> 
        </section>
        <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
        <script type="text/javascript">
            function success({coords}) {
                const latitude = coords.latitude;   // ìœ„ë„
                const longitude = coords.longitude; // ê²½ë„
                
                var location_data = {"latitude" : latitude, "longitude" : longitude};

                console.log(`ìœ„ë„: ${latitude}, ê²½ë„: ${longitude}`);

                $.ajax({
                    url:'/get_location',
                    contentType : "application/json; charset=uft-8",
                    data : JSON.stringify(location_data),
                    type : "post",
                    success : function(location_data) {
                        console.log(`${location_data} ì „ì†¡ ì„±ê³µ`);
                    },
                    error : function(location_data) {
                        console.log("ì‹¤íŒ¨");
                    }
                });
            }
    
            function getUserLocation() {
                if (!navigator.geolocation) {
                    throw "ìœ„ì¹˜ ì •ë³´ê°€ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.";
                }
                navigator.geolocation.watchPosition(success);
            }
    
            getUserLocation();
        </script>
    </body>
 </html>
